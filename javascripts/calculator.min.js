function calculatorFactory(cssId){return{buttonsList:[],calcMemory:0,calcValue:0,screen:0,screenElement:{},init(){let e=this;for(var t of(this.buttonsList=document.querySelectorAll(`${cssId} .calc-btn`),this.screenElement=document.querySelector(`${cssId} output`),this.buttonsList))t.addEventListener("click",function(){e.calcWrite(this.innerHTML,e.screenElement)})},calcWrite(value,affectedScreen){if("R"===value)affectedScreen.textContent="0",this.calcValue=0;else if("C"===value){var reduceOfOne=affectedScreen.textContent.slice(0,-1);affectedScreen.textContent=reduceOfOne,""===affectedScreen.textContent&&(affectedScreen.textContent="0")}else if("="===value||"Enter"===value)affectedScreen.textContent=eval(this.calcValue);else if(isNaN(value))if("MC"===value||"M+"===value||"M-"===value||"MR"===value)this.useMemory(value,affectedScreen);else if(0===Number(affectedScreen.textContent))switch(value){case"-":affectedScreen.textContent+=value,this.calcValue+="-";break;case".":affectedScreen.textContent=value,this.calcValue="."}else this.setOperator(value,affectedScreen);else 0===Number(affectedScreen.textContent)?(affectedScreen.textContent=value,this.calcValue=value):(affectedScreen.textContent+=value,this.calcValue+=value)},setOperator(e,t){if(this.canAddOperator(e,t))switch(e){case"+":t.textContent+=e,this.calcValue+="+";break;case"-":t.textContent+=e,this.calcValue+="-";break;case"×":t.textContent+=e,this.calcValue+="*";break;case"÷":t.textContent+=e,this.calcValue+="/";break;case".":t.textContent+=e,this.calcValue+="."}},canAddOperator(e,t){let a=t.textContent.slice(-1);switch(a){case"+":case"-":case"×":case"÷":case".":return!1;default:return!this.isDualDotInNumber(e,t)}},isDualDotInNumber(e,t){const a=/(([^\.]\d{1,}\.\d{1,}$)|(^[\.]\d{1,}))/g;return"."===e&&t.textContent.match(a)},useMemory(e,t){switch(e){case"MC":this.calcMemory=0;break;case"M+":this.isValidMemoryUsage(t.textContent)?(this.calcMemory+=1*t.textContent,t.textContent=0):console.warn("You cannot memorize a calculation that has not been completed.");break;case"M-":this.isValidMemoryUsage(t.textContent)?(this.calcMemory-=1*t.textContent,t.textContent=0):console.warn("You cannot memorize a calculation that has not been completed.");break;case"MR":t.textContent=this.calcMemory}},isValidMemoryUsage:e=>!isNaN(e)}}